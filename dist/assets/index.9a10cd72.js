import{y as r}from"./index.45ee53a6.js";import{E as i}from"./element-plus.bed7ca25.js";const l=Object.keys(r.recordObjectStore)[0],y=async t=>{const o=localStorage.getItem("userId"),c=i.service({lock:!0,background:"rgba(0,0,0,0.1)"}),a=await new Promise((e,u)=>{r.yuyuDB.getList(l).then(n=>{setTimeout(()=>{c.close()},200),n&&n.filter(d=>{d.recordId===t.recordId&&e(!0)}),e(!1)})});let s;return a?s=await new Promise((e,u)=>{e({code:"000001",success:!1,message:"\u6570\u636E\u5DF2\u5B58\u5728",result:null})}):(Object.assign(t,{userId:o}),s=await new Promise((e,u)=>{r.yuyuDB.updateItem(l,t).then(n=>{setTimeout(()=>{c.close()},200),e({code:"000000",success:!0,message:"\u64CD\u4F5C\u6210\u529F",result:null})})})),s},I=async()=>{const t=localStorage.getItem("userId"),o=i.service({lock:!0,background:"rgba(0,0,0,0.1)"});return await new Promise((a,s)=>{r.yuyuDB.getList(l).then(e=>{setTimeout(()=>{o.close()},200),setTimeout(()=>{e=e.filter(u=>u.userId===t),a({code:"000000",success:!0,message:"\u64CD\u4F5C\u6210\u529F",result:e||null})},500)})})};export{I as g,y as s};
